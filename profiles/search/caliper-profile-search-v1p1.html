<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset='utf-8'>
    <script src='https://purl.imsglobal.org/spec/respec-ims-default.js' async class='remove'></script>
    <script class='remove'>
        var respecConfig = {
            specTitle: "Caliper AnalyticsÂ® Search Profile",
            shortName: "caliper-search",
            specStatus: "IMS Base Document",
            specDate: "30 June 2019",
            specVersion: "1.1",
            specNature: "normative",
            specType: "spec",
            contributors: [
                {
                    name: "Daniel Green",
                    company: "VitalSource (USA)",
                    companyURL: "https://www.vitalsource.com/",
                    role: "Author"
                },
                {
                    name: "Anthony Whyte",
                    company: "University of Michigan (USA)",
                    companyURL: "https://www.umich.edu/",
                    role: "Author"
                },
                {
                    name: "Markus Gylling",
                    company: "IMS Global (Sweden)",
                    companyURL: "https://www.imsglobal.org",
                    role: "Editor"
                }]
        };
    </script>
</head>
<body>
<section id="abstract">
    <h2>Abstract</h2> This document extends Caliper 1.1 by defining a Search Profile that
    describes search-related learning activities.
</section>

<section>
    <h2>Overview</h2>
    <section class="informative">
        <h3>Design Goals and Rationale</h3>

        <img height="100%" width="100%" src="./assets/caliper-profile_search.png" alt="Search Profile"/>

        <p>The Caliper Search Profile models an <code>actor</code>, typically a learner,
            querying a resource for information. The profile provides a <a href="#event-search">SearchEvent</a> and
            and a <a href="#actions">Searched</a> action for describing information retrieval activities. An optional
            <a href="#entity-searchresponse">SearchResponse</a> entity can be employed to describe the
            <a href="#entity-query">Query</a> submitted by a user as well as any <code>searchResults</code> returned
            as a result of the search.</p>

        <p>When the Search Profile is used in conjunction with the <a href=
            "https://www.imsglobal.org/sites/default/files/caliper/v1p1/caliper-spec-v1p1/caliper-spec-v1p1.html#readingProfile">
            Reading Profile</a>, a learner's navigation, search and viewing behavior can be combined
            to provide a richer picture of learner interactions with digital resources.</p>
    </section>

    <section class="informative" id="usecases">
        <h3>Use cases</h3>
        <p>The Search Profile supports the following learner-centric use cases:</p>
        <table>
            <tr>
                <td>Frequency of searches conducted and resources queried.</td>
            </tr>
            <tr>
                <td>Topics searched and query terms employed.</td>
            </tr>
            <tr>
                <td>Use and design of structured queries.</td>
            </tr>
        </table>
    </section>

    <section id="terminology">
        <h3>Terminology</h3>
        <p>All terminology used in this specification is concordant with the term
            definitions in the Caliper 1.1 Specification [[!CALIPER-11]].</p>
    </section>

    <section id="conformance">
        <h3>Conformance Statements</h3>
    </section>

    <section id="documentset">
        <h3>Document Set</h3>
        <section>
            <h4>Normative Documents</h4>
            <dl>
                <dt>Caliper 1.1</dt>
                <dd>This profile is an extension to the Caliper 1.1 specification [[!CALIPER-11]].
                    All requirements in the Caliper 1.1 specification also apply to implementations of this
                    specification.
                </dd>
                <dt>JSON-LD Context</dt>
                <dd>The JSON-LD Context for this profile defines all relevant term-IRI mappings
                    [[!CALIPER-SEARCH-11-CONTEXT]].
                </dd>
                <dt>Errata</dt>
                <dd>The errata [[!CALIPER-SEARCH-11-ERRATA]] details any errata registered for this version
                    of this specification since its publication.
                </dd>
                <dt>Conformance and Certification guide</dt>
                <dd>The conformance and certification guide that accompanies the Caliper 1.1 specification
                    defines the conformance requirements for Caliper Sensors [[!CALIPER-CERT-11]].
                </dd>
            </dl>
        </section>

        <section class="informative">
            <h4>Informative Documents</h4>
            <dl>
                <dt>Caliper 1.1 Implementation Guide</dt>
                <dd>The implementation guide that accompanies the Caliper 1.1 specification provides
                    advice and guidance for implementors [[CALIPER-IMPL-11]].
                </dd>
            </dl>
        </section>
    </section>
</section>

<section id="events">
    <h2>Events</h2>

    <p>The Search Profile is provisioned with a single a <a href="#event-search">SearchEvent</a> for describing
        information retrieval activities.</p>

    <section id="SearchEvent" data-include="../../fragments/events/caliper-event-search.html"></section>
</section>

<section id="actions">
    <h2>Actions</h2>

    <p>The Caliper <a href="#event-search">SearchEvent</a> supports the <em>Searched</em> action only.</p>

    <section id="action-searched" data-include="../../fragments/actions/caliper-action-searched.html"></section>
</section>

<section id="entities">
    <h2>Entities</h2>

    <p>The <a href="#event-search">SearchEvent</a> MAY reference a <code>generated</code>
        <a href="#entity-searchresponse">SearchResponse</a> that describes the search criteria as well as
        the search results returned by the <a href="#entity-query">Query</a>.</p>

    <section id="Query" data-include="../../fragments/entities/caliper-entity-query.html"></section>
    <section id="SearchResponse" data-include="../../fragments/entities/caliper-entity-searchresponse.html"></section>
</section>

<section id="jsonld">
    <h2>Caliper JSON-LD Examples</h2>

    <p>Individual Caliper events and entity describes are serialized as JSON-LD. IMS Global
        provides a remote Search Profile JSON-LD <a href=
         "http://purl.imsglobal.org/ctx/caliper/v1p1/SearchProfile-extension">context</a>
        for mapping <code>SearchEvent</code> terms to IRIs. Caliper message producers MUST reference the Search
        Profile 1.1-extension context in every <code>Event</code> subtype described in this profile. Likewise,
        Caliper message producers MUST reference the Search Profile 1.1-extension context whenever an
        <code>Entity</code> subtype described in this profile is emitted on its own as a <em>describe</em>.</p>

    <p>See the Caliper 1.1 specification [[!CALIPER-11]] for a discussion of JSON-LD and JSON-LD
        context handling.</p>

    <figure class="example">
        <figcaption>JSON-LD Context</figcaption>
        <pre><code>{
    "@context": "http://purl.imsglobal.org/ctx/caliper/v1p1/SearchProfile-extension",
    . . .
}</code></pre>
    </figure>

    <section class="informative">
        <h3>Events</h3>

        <section class="informative">
            <h3>SearchEvent</h3>

            <section class="informative">
                <h3>Searched</h3>

                <p>Below is an example of a Caliper <a href="#event-search">SearchEvent</a> that records a
                    <code>Person</code> searching a <code>SoftwareApplication</code>. The
                    <a href="#event-search">SearchEvent</a> is further enriched by inclusion of the generated
                    <a href="#entity-searchresponse">SearchResponse</a> which references both the search criteria
                    employed and the search results returned.</p>

                <figure class="example">
                    <figcaption><code>SearchEvent</code> JSON-LD</figcaption>
                    <pre><code data-include="../../fixtures/v1p1/caliperEventSearchSearched.json"></code></pre>
                </figure>
            </section>
        </section>
    </section>

    <section class="informative">
        <h3>Entity Describes</h3>

        <section class="informative">
            <h3>Query</h3>

            <p>Below is an example of a <a href="#entity-query">Query</a> entity describe that can also be sent to an
                endpoint. The <a href="#entity-query">Query</a> references the author, the resource searched, the search
                string employed, and a list of search results expressed as JSON objects.</p>

            <figure class="example">
                <figcaption><code>Query</code> describe JSON-LD</figcaption>
                <pre><code data-include="../../fixtures/v1p1/caliperEntityQuery.json"></code></pre>
            </figure>
        </section>

        <section class="informative">
            <h3>SearchResponse</h3>

            <p>Below is an example of a <a href="#entity-searchresponse">SearchResponse</a> entity describe that can
                also be sent to an endpoint. The <a href="#entity-searchresponse">SearchResponse</a> references the
                search provider, a list of search results expressed as JSON objects.</p>

            <figure class="example">
                <figcaption><code>SearchResponse</code> describe JSON-LD</figcaption>
<pre><code>{
  "id": "https://example.edu/users/554433/search?query=IMS%20AND%20%28Caliper%20OR%20Analytics%29",
  "type": "SearchResponse",
  "searchProvider": {
    "id": "https://example.edu",
    "type": "SoftwareApplication"
  },
  "searchTarget": {
    "id": "https://example.edu/catalog",
    "type": "SoftwareApplication"
  },
  "query": {
    "@context": "http://purl.imsglobal.org/ctx/caliper/v1p1/SearchProfile-extension",
    "id": "https://example.edu/users/554433/search?query=IMS%20AND%20%28Caliper%20OR%20Analytics%29",
    "type": "Query",
    "creator": {
      "id": "https://example.edu/users/554433",
      "type": "Person"
    },
    "searchTarget": "https://example.edu/catalog",
    "searchTerms": "IMS AND (Caliper OR Analytics)",
    "dateCreated": "2018-11-15T10:05:00.000Z"
  },
  "searchResultsItemCount": 3,
  "searchResults": [{
      "id": "https://example.edu/catalog/record/01234?query=IMS%20AND%20%28Caliper%20OR%20Analytics%29",
      "type": "Document",
      "mediaType": "application/pdf"
    },
    {
      "id": "https://example.edu/catalog/record/09876?query=IMS%20AND%20%28Caliper%20OR%20Analytics%29",
      "type": "VideoObject",
      "mediaType": "video/ogg"
    },
    {
      "id": "https://example.edu/catalog/record/05432?query=IMS%20AND%20%28Caliper%20OR%20Analytics%29",
      "type": "Document",
      "mediaType": "application/epub+zip"
    }
  ],
  "dateCreated": "2018-11-15T10:05:00.000Z"
}</code></pre>
            </figure>
        </section>
    </section>
</section>

<section class="appendix informative" id="revisionhistory">
    <h2>Revision History</h2>

    <section>
        <h3>Version History</h3>
        <table title="Revision History" summary="Publication history and revision details for this specification.">
            <thead>
            <tr>
                <th>Version No.</th>
                <th>Release Date</th>
                <th>Comments</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>IMS Base Document 1.1</td>
                <td>30 June 2019</td>
                <td>The first Base Document release.</td>
            </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h3>Changes from previous version</h3>
        <p>As this is the first version of this document, no previous version change log exists.</p>
    </section>
</section>
</body>
</html>